<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>H√≥a ƒë∆°n V·∫≠n T·∫£i ECO</title>
<style>
@page {
    size: A5 landscape;
    margin: 5mm;
}
body {
    font-family: 'Arial', sans-serif;
    font-size: 12px;
    background-color: #f5f5f5;
    padding: 10px;
}
.invoice {
    width: 100%;
    border: 1px solid #ddd;
    padding: 10px;
    box-sizing: border-box;
    background-color: white;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    border-radius: 5px;
}
table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 5px;
}
td, th {
    border: 1px solid #ddd;
    padding: 5px;
    vertical-align: top;
}
.no-border td {
    border: none;
}
.bold { font-weight: bold; }
.center { text-align: center; }
.right { text-align: right; }
.left { text-align: left; }
.qr {
    width: 70px;
    height: 70px;
    background-size: cover;
    background-position: center;
    margin: 0 auto;
}
.header {
    background-color: #2c3e50;
    color: white;
    padding: 8px;
    border-radius: 3px;
    margin-bottom: 10px;
}
h1 {
    margin: 0;
    font-size: 20px;
    color: #e74c3c;
}
h2 {
    margin: 0;
    font-size: 16px;
}
.highlight {
    background-color: #f8f9fa;
}
.total-row {
    background-color: #e74c3c;
    color: white;
    font-weight: bold;
}
.print-btn {
    background-color: #2c3e50;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 10px;
    font-size: 14px;
}
.print-btn:hover {
    background-color: #1a252f;
}
.company-info {
    line-height: 1.4;
}
.bill-code {
    font-size: 18px;
    color: #e74c3c;
    letter-spacing: 1px;
}
.section-title {
    background-color: #ecf0f1;
    font-weight: bold;
    padding: 5px;
}
.signature-area {
    height: 50px;
    border-top: 1px dashed #ccc;
    margin-top: 30px;
    padding-top: 5px;
}
</style>
</head>
<body>

<div class="invoice">
    <!-- Header -->
    <div class="header">
        <table class="no-border">
            <tr>
                <td style="width: 70%;" class="company-info">
                    <h1>V·∫¨N T·∫¢I ECO</h1>
                    <div>V·∫¨N CHUY·ªÇN H√ÄNG H√ìA B·∫ÆC - NAM</div>
                    <div>Hotline: <span class="bold">0946 936 999 - 0888 805 625</span></div>
                    <div>Email: info@vantaieco.com - Website: www.vantaieco.com</div>
                </td>
                <td class="right">
                    <div class="bill-code">*<span id="maVanDon"></span>*</div>
                    <div style="margin-top: 10px;">H√ìA ƒê∆†N V·∫¨N CHUY·ªÇN</div>
                </td>
            </tr>
        </table>
    </div>

    <!-- Th√¥ng tin kh√°ch h√†ng -->
    <div class="section-title">TH√îNG TIN KH√ÅCH H√ÄNG</div>
    <table>
        <tr>
            <td style="width: 50%;" class="highlight">
                <div class="bold">NG∆Ø·ªúI G·ª¨I</div>
                <div>M√£ KH: <span id="maKHGui"></span> | M√£ BC: <span id="maBCGui"></span></div>
                <div>T√™n: <span id="tenNguoiGui"></span></div>
                <div>ƒê·ªãa ch·ªâ: <span id="diaChiNguoiGui"></span></div>
                <div><span id="quanHuyenGui"></span>, <span id="tpGui"></span></div>
                <div>ƒêi·ªán tho·∫°i: <span id="soDTGui"></span> | Li√™n h·ªá: <span id="tenLHGui"></span></div>
            </td>
            <td style="width: 50%;" class="highlight">
                <div class="bold">NG∆Ø·ªúI NH·∫¨N</div>
                <div>M√£ KH: <span id="maKHNhan"></span> | M√£ BC: <span id="maBCNhan"></span></div>
                <div>T√™n: <span id="tenNguoiNhan"></span></div>
                <div>ƒê·ªãa ch·ªâ: <span id="diaChiNguoiNhan"></span></div>
                <div><span id="quanHuyenNhan"></span>, <span id="tpNhan"></span></div>
                <div>ƒêi·ªán tho·∫°i: <span id="soDTNhan"></span> | Li√™n h·ªá: <span id="tenLHNhan"></span></div>
            </td>
        </tr>
    </table>

    <!-- Th√¥ng tin h√†ng h√≥a -->
    <div class="section-title">TH√îNG TIN H√ÄNG H√ìA</div>
    <table>
        <tr>
            <td colspan="2">M√¥ t·∫£ h√†ng ho√°: <span id="moTaHang"></span></td>
            <td>H√¨nh th·ª©c thanh to√°n: <span id="thanhToan"></span></td>
            <td>C∆∞·ªõc ch√≠nh: <span id="cuocChinh"></span></td>
        </tr>
        <tr>
            <td>D·ªãch v·ª• c·ªông th√™m: <span id="dichVuThem"></span></td>
            <td>T·ªïng c∆∞·ªõc: <span id="tongThu"></span></td>
            <td colspan="2" class="total-row">T·ªîNG PH·∫¢I THU KHI PH√ÅT: <span id="tongThu2"></span></td>
        </tr>
    </table>

    <!-- Th√¥ng tin ki·ªán h√†ng -->
    <div class="section-title">TH√îNG TIN KI·ªÜN H√ÄNG</div>
    <table>
        <tr>
            <td>S·ªë ki·ªán: <span id="soKien"></span></td>
            <td>Tr·ªçng l∆∞·ª£ng th·ª±c: <span id="tlThuc"></span></td>
            <td>Tr·ªçng l∆∞·ª£ng quy ƒë·ªïi: <span id="tlQDoi"></span></td>
            <td>Thu h·ªô: <span id="thuHo"></span></td>
        </tr>
        <tr>
            <td>Khai gi√°: <span id="khaiGia"></span></td>
            <td colspan="3">Ghi ch√∫: </td>
        </tr>
    </table>

    <!-- Th√¥ng tin d·ªãch v·ª• -->
    <div class="section-title">TH√îNG TIN D·ªäCH V·ª§</div>
    <table>
        <tr>
            <td>D·ªãch v·ª•: <span id="dichVu"></span></td>
            <td>D.v·ª• gtgt: <span id="dichVuNhanh"></span></td>
            <td rowspan="3" class="center">
                <div class="qr" id="qrCode"></div>
                <div>Qu√©t m√£ QR ƒë·ªÉ theo d√µi ƒë∆°n h√†ng</div>
            </td>
            <td>M√£ NV nh·∫≠n: </td>
            <td>M√£ NV ph√°t: </td>
        </tr>
        <tr>
            <td>Ng√†y gi·ªù g·ª≠i: <span id="ngayGui"></span></td>
            <td>Ng√†y gi·ªù nh·∫≠n: <span id="ngayNhan"></span></td>
            <td colspan="2">T√¨nh tr·∫°ng: ‚ñ° Chuy·ªÉn ho√†n ‚ñ° H·ªßy</td>
        </tr>
        <tr>
            <td colspan="2" class="center signature-area">
                <div>H·ªç t√™n & ch·ªØ k√Ω ng∆∞·ªùi g·ª≠i</div>
            </td>
            <td colspan="2" class="center signature-area">
                <div>H·ªç t√™n & ch·ªØ k√Ω ng∆∞·ªùi nh·∫≠n</div>
            </td>
        </tr>
    </table>

    <!-- Footer -->
    <div style="margin-top: 10px; font-size: 11px; text-align: center;">
        <div>C·∫£m ∆°n Qu√Ω kh√°ch ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i!</div>
        <div>M·ªçi th·∫Øc m·∫Øc xin li√™n h·ªá hotline: 0946 936 999</div>
    </div>
</div>

<p class="center"><button class="print-btn" onclick="window.print()">üñ® IN H√ìA ƒê∆†N</button></p>

<script>
function getParam(name) {
    return new URLSearchParams(window.location.search).get(name) || '';
}
function formatCurrency(value) {
    if (!value) return '0 ƒë';
    return Number(value).toLocaleString('vi-VN') + ' ƒë';
}
function set(id, val) {
    const element = document.getElementById(id);
    if (element) element.innerText = val;
}
function setCurrency(id, val) {
    const element = document.getElementById(id);
    if (element) element.innerText = formatCurrency(val);
}

// Set values from URL parameters
set("maVanDon", getParam("maVanDon"));
set("maKHGui", getParam("maKHGui"));
set("maBCGui", getParam("maBCGui"));
set("maKHNhan", getParam("maKHNhan"));
set("maBCNhan", getParam("maBCNhan"));
set("tenNguoiGui", getParam("tenNguoiGui"));
set("diaChiNguoiGui", getParam("diaChiNguoiGui"));
set("tenNguoiNhan", getParam("tenNguoiNhan"));
set("diaChiNguoiNhan", getParam("diaChiNguoiNhan"));
set("quanHuyenGui", getParam("quanHuyenGui"));
set("tpGui", getParam("tpGui"));
set("quanHuyenNhan", getParam("quanHuyenNhan"));
set("tpNhan", getParam("tpNhan"));
set("soDTGui", getParam("soDTGui"));
set("tenLHGui", getParam("tenLHGui"));
set("soDTNhan", getParam("soDTNhan"));
set("tenLHNhan", getParam("tenLHNhan"));
set("moTaHang", getParam("moTaHang"));
set("thanhToan", getParam("thanhToan"));
setCurrency("cuocChinh", getParam("cuocChinh"));
set("dichVuThem", getParam("dichVuThem"));
setCurrency("tongThu", getParam("tongThu"));
setCurrency("tongThu2", getParam("tongThu"));
set("soKien", getParam("soKien"));
set("tlThuc", getParam("tlThuc") + ' kg');
set("tlQDoi", getParam("tlQDoi") + ' kg');
setCurrency("thuHo", getParam("thuHo"));
setCurrency("khaiGia", getParam("khaiGia"));
set("dichVu", getParam("dichVu"));
set("dichVuNhanh", getParam("dichVuNhanh"));
set("ngayGui", getParam("ngayGui") || new Date().toLocaleString());
set("ngayNhan", getParam("ngayNhan"));

// Generate QR code
document.getElementById("qrCode").style.backgroundImage =
    "url('https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" + 
    encodeURIComponent(getParam("maVanDon") + "')";
</script>

</body>
</html>
